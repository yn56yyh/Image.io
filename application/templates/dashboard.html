<!-- Inherits from layout.html --> {% extends "layout.html" %}
<!-- Create a bootstrap table with the following columns:
Gender, Age, Hypertension, Heart Disease, Ever Married, Work Type, Residence Type, Avg Glucose Level, BMI, Smoking Status, Stroke, Prediction Date --> {% block content %} <div class='container'>
  
  <div class='d-flex justify-content-between'>
    <form class='form-inline' action='/search' method='post'>
      <input class='form-control mr-2' type='text' name='search_term' placeholder='Enter search term'>
      <button class='btn btn-outline-primary' type='submit'>Search</button>
    </form>
  </div>
      
  <table class='table table-striped'>
        <thead>
          <tr>
            <th>ID</th>
            <th>Image</th>
            <th>Model</th>
            <th>Prediction Date</th>
            <th>Model Confidence (%)</th>
            <th>Prediction</th>
            <th>Modify Entry</th>
          </tr>
        </thead>
        <tbody> {% for entry in entries.items %} <tr>
            <td>{{ entry.id }}</td>
            <td>{% raw %}<img src="{{url_for('static', filename='upload/' + entry.image_url) }}" style="width: 75%; height: auto; border-radius: 25px;" alt = 'Image'>{% endraw %}</td>
            <td>{{ entry.model_selection }}</td>
            <td>{{ entry.pred_dt }}</td>
            <td>{{ entry.conf_pct }}</td>
            <td>{{ entry.pred }}</td>
            <td>
              <form name='RemoveEntry' action='/remove/{{ entry.id }}' method='post' novalidate>
                <input type='hidden' name='id' value='{{ entry.id }}'>
                <button type='submit' class='btn btn-danger my-2'>Remove</button>
              </form>
            </td>
          </tr> {% endfor %} </tbody>
      </table>
    <!-- Pagination Links-->
    <div class="text-right">
      <a href="{{ url_for('dashboard_page', page=entries.prev_num) }}"
         class="btn btn-outline-dark 
         {% if entries.page == 1 %}disabled{% endif %}">
          &laquo;
      </a>
    <!-- Loop through the number of pages to display a link for each-->
      {% for page_num in entries.iter_pages(left_edge=1, right_edge=1, left_current=1, right_current=2) %}
    {% if page_num %}
    <!-- Check for the active page and set the link to "Active"-->
              {% if entries.page == page_num %}
              <a href="{{ url_for('dashboard_page', page=page_num) }}"
                 class="btn btn-dark">
                  {{ page_num }}
              </a>
              {% else %}
              <a href="{{ url_for('dashboard_page', page=page_num) }}"
                 class="btn btn-outline-dark">
                  {{ page_num }}
              </a>
              {% endif %}
          {% else %}
              ...
          {% endif %}
      {% endfor %}
      <a href="{{ url_for('dashboard_page', page=entries.next_num) }}"
         class="btn btn-outline-dark 
         {% if entries.page == entries.pages %}disabled{% endif %}">
          &raquo;
      </a>
    </div>
    <p class="text-right mt-3">
     Showing page {{ entries.page }} of {{ entries.pages }}
    </p>
    </div> {% endblock %}
  